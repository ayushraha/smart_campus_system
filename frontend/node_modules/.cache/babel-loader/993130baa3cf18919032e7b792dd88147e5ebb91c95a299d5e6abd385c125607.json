{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aayush\\\\Desktop\\\\claude_campus\\\\frontend\\\\src\\\\pages\\\\Interview\\\\InterviewRoom.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { useAuth } from '../../context/AuthContext';\nimport { FiMic, FiMicOff, FiVideo, FiVideoOff, FiPhoneOff, FiFileText } from 'react-icons/fi';\nimport './Interview.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst InterviewRoom = () => {\n  _s();\n  var _interview$studentId2, _interview$recruiterI2;\n  const {\n    roomId\n  } = useParams();\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const [interview, setInterview] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [inCall, setInCall] = useState(false);\n\n  // Media controls\n  const [isMuted, setIsMuted] = useState(false);\n  const [isVideoOff, setIsVideoOff] = useState(false);\n  const [streamReady, setStreamReady] = useState(false);\n\n  // Interview state\n  const [notes, setNotes] = useState('');\n  const [questions, setQuestions] = useState([]);\n  const [currentQuestion, setCurrentQuestion] = useState('');\n  const [questionCategory, setQuestionCategory] = useState('technical');\n\n  // Recording\n  const [isRecording, setIsRecording] = useState(false);\n  const [recordingDuration, setRecordingDuration] = useState(0);\n  const localVideoRef = useRef(null);\n  const mediaStreamRef = useRef(null);\n  const fetchInterviewDetails = useCallback(async () => {\n    try {\n      const response = await axios.get(`/api/interview/room/${roomId}`);\n      setInterview(response.data);\n      setQuestions(response.data.questionsAsked || []);\n      setLoading(false);\n    } catch (error) {\n      toast.error('Interview room not found');\n      navigate('/');\n      setLoading(false);\n    }\n  }, [roomId, navigate]);\n  useEffect(() => {\n    fetchInterviewDetails();\n    return () => {\n      // Cleanup: stop all media tracks when component unmounts\n      if (mediaStreamRef.current) {\n        mediaStreamRef.current.getTracks().forEach(track => track.stop());\n      }\n    };\n  }, [fetchInterviewDetails]);\n  useEffect(() => {\n    let interval;\n    if (isRecording) {\n      interval = setInterval(() => {\n        setRecordingDuration(prev => prev + 1);\n      }, 1000);\n    }\n    return () => clearInterval(interval);\n  }, [isRecording]);\n  const startLocalStream = async () => {\n    try {\n      console.log('Requesting camera and microphone access...');\n      const constraints = {\n        video: {\n          width: {\n            ideal: 1280\n          },\n          height: {\n            ideal: 720\n          }\n        },\n        audio: {\n          echoCancellation: true,\n          noiseSuppression: true\n        }\n      };\n      const stream = await navigator.mediaDevices.getUserMedia(constraints);\n      console.log('Media stream obtained:', stream);\n      mediaStreamRef.current = stream;\n\n      // Set video element source\n      if (localVideoRef.current) {\n        localVideoRef.current.srcObject = stream;\n\n        // Ensure video plays\n        localVideoRef.current.onloadedmetadata = () => {\n          console.log('Video metadata loaded');\n          localVideoRef.current.play().then(() => {\n            console.log('Video playing successfully');\n            setStreamReady(true);\n          }).catch(err => console.error('Error playing video:', err));\n        };\n      }\n      return stream;\n    } catch (error) {\n      console.error('Error accessing media devices:', error);\n      if (error.name === 'NotAllowedError') {\n        toast.error('Camera/microphone access denied. Please allow permissions.');\n      } else if (error.name === 'NotFoundError') {\n        toast.error('No camera or microphone found.');\n      } else {\n        toast.error('Could not access camera/microphone: ' + error.message);\n      }\n      return null;\n    }\n  };\n  const joinInterview = async () => {\n    try {\n      const stream = await startLocalStream();\n      if (!stream) {\n        toast.error('Cannot join without camera/microphone access');\n        return;\n      }\n      await axios.put(`/api/interview/${interview._id}/start`);\n      setInCall(true);\n      setIsRecording(true);\n      toast.success('Joined interview successfully');\n    } catch (error) {\n      console.error('Failed to join interview:', error);\n      toast.error('Failed to join interview');\n    }\n  };\n  const leaveInterview = async () => {\n    try {\n      // Stop all tracks\n      if (mediaStreamRef.current) {\n        mediaStreamRef.current.getTracks().forEach(track => {\n          track.stop();\n          console.log('Stopped track:', track.kind);\n        });\n      }\n      await axios.put(`/api/interview/${interview._id}/end`);\n      setInCall(false);\n      setIsRecording(false);\n      toast.success('Interview ended');\n\n      // Navigate based on role\n      if (user.role === 'recruiter') {\n        navigate(`/recruiter/interviews/${interview._id}/analysis`);\n      } else {\n        navigate('/student/applications');\n      }\n    } catch (error) {\n      console.error('Error leaving interview:', error);\n      toast.error('Error leaving interview');\n    }\n  };\n  const toggleMute = () => {\n    if (mediaStreamRef.current) {\n      const audioTrack = mediaStreamRef.current.getAudioTracks()[0];\n      if (audioTrack) {\n        audioTrack.enabled = !audioTrack.enabled;\n        setIsMuted(!audioTrack.enabled);\n        toast.info(audioTrack.enabled ? 'Microphone on' : 'Microphone muted');\n      }\n    }\n  };\n  const toggleVideo = () => {\n    if (mediaStreamRef.current) {\n      const videoTrack = mediaStreamRef.current.getVideoTracks()[0];\n      if (videoTrack) {\n        videoTrack.enabled = !videoTrack.enabled;\n        setIsVideoOff(!videoTrack.enabled);\n        toast.info(videoTrack.enabled ? 'Camera on' : 'Camera off');\n      }\n    }\n  };\n  const addQuestion = async () => {\n    if (!currentQuestion.trim()) {\n      toast.warning('Please enter a question');\n      return;\n    }\n    try {\n      await axios.post(`/api/interview/${interview._id}/questions`, {\n        question: currentQuestion,\n        category: questionCategory\n      });\n      const newQuestion = {\n        question: currentQuestion,\n        askedAt: new Date(),\n        category: questionCategory\n      };\n      setQuestions([...questions, newQuestion]);\n      setCurrentQuestion('');\n      toast.success('Question added');\n    } catch (error) {\n      console.error('Failed to add question:', error);\n      toast.error('Failed to add question');\n    }\n  };\n  const saveNotes = async () => {\n    if (!notes.trim()) {\n      toast.warning('No notes to save');\n      return;\n    }\n    try {\n      await axios.put(`/api/interview/${interview._id}/notes`, {\n        notes\n      });\n      toast.success('Notes saved');\n    } catch (error) {\n      console.error('Failed to save notes:', error);\n      toast.error('Failed to save notes');\n    }\n  };\n  const formatDuration = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Loading interview room...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 12\n    }, this);\n  }\n  if (!interview) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Interview not found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 12\n    }, this);\n  }\n  if (!inCall) {\n    var _interview$jobId, _interview$jobId2, _interview$recruiterI, _interview$studentId;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"interview-lobby\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lobby-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Interview Room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"interview-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Position:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 16\n            }, this), \" \", interview === null || interview === void 0 ? void 0 : (_interview$jobId = interview.jobId) === null || _interview$jobId === void 0 ? void 0 : _interview$jobId.title]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Company:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 16\n            }, this), \" \", interview === null || interview === void 0 ? void 0 : (_interview$jobId2 = interview.jobId) === null || _interview$jobId2 === void 0 ? void 0 : _interview$jobId2.company]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 16\n            }, this), \" \", new Date(interview === null || interview === void 0 ? void 0 : interview.scheduledDate).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Time:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 16\n            }, this), \" \", interview === null || interview === void 0 ? void 0 : interview.scheduledTime]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), user.role === 'student' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Interviewer:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 20\n              }, this), \" \", interview === null || interview === void 0 ? void 0 : (_interview$recruiterI = interview.recruiterId) === null || _interview$recruiterI === void 0 ? void 0 : _interview$recruiterI.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 17\n            }, this)\n          }, void 0, false), user.role === 'recruiter' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Candidate:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 20\n              }, this), \" \", interview === null || interview === void 0 ? void 0 : (_interview$studentId = interview.studentId) === null || _interview$studentId === void 0 ? void 0 : _interview$studentId.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 17\n            }, this)\n          }, void 0, false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-preview\",\n          children: [/*#__PURE__*/_jsxDEV(\"video\", {\n            ref: localVideoRef,\n            autoPlay: true,\n            muted: true,\n            playsInline: true,\n            className: \"preview-video\",\n            style: {\n              transform: 'scaleX(-1)'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Check your camera and microphone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this), !streamReady && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startLocalStream,\n            className: \"btn-test-devices\",\n            children: \"Test Camera & Microphone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: joinInterview,\n          className: \"btn-join\",\n          disabled: !streamReady,\n          children: streamReady ? 'Join Interview' : 'Testing devices...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"interview-room\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-video\",\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          ref: localVideoRef,\n          autoPlay: true,\n          muted: true,\n          playsInline: true,\n          className: \"local-video-main\",\n          style: {\n            transform: 'scaleX(-1)'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-label\",\n          children: user.role === 'recruiter' ? interview === null || interview === void 0 ? void 0 : (_interview$studentId2 = interview.studentId) === null || _interview$studentId2 === void 0 ? void 0 : _interview$studentId2.name : interview === null || interview === void 0 ? void 0 : (_interview$recruiterI2 = interview.recruiterId) === null || _interview$recruiterI2 === void 0 ? void 0 : _interview$recruiterI2.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), isRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recording-indicator\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"rec-dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 15\n          }, this), \"REC \", formatDuration(recordingDuration)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls-panel\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"media-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `control-btn ${isMuted ? 'muted' : ''}`,\n          onClick: toggleMute,\n          title: isMuted ? 'Unmute' : 'Mute',\n          children: isMuted ? /*#__PURE__*/_jsxDEV(FiMicOff, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 24\n          }, this) : /*#__PURE__*/_jsxDEV(FiMic, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 39\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `control-btn ${isVideoOff ? 'video-off' : ''}`,\n          onClick: toggleVideo,\n          title: isVideoOff ? 'Turn on camera' : 'Turn off camera',\n          children: isVideoOff ? /*#__PURE__*/_jsxDEV(FiVideoOff, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 27\n          }, this) : /*#__PURE__*/_jsxDEV(FiVideo, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 44\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"control-btn end-call\",\n          onClick: leaveInterview,\n          title: \"Leave interview\",\n          children: /*#__PURE__*/_jsxDEV(FiPhoneOff, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }, this), user.role === 'recruiter' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"interview-sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-tabs\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"tab-btn active\",\n          children: [/*#__PURE__*/_jsxDEV(FiFileText, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this), \" Questions\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tab-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"questions-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Interview Questions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"add-question\",\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              value: questionCategory,\n              onChange: e => setQuestionCategory(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"technical\",\n                children: \"Technical\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"behavioral\",\n                children: \"Behavioral\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"situational\",\n                children: \"Situational\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: currentQuestion,\n              onChange: e => setCurrentQuestion(e.target.value),\n              placeholder: \"Enter your question...\",\n              rows: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: addQuestion,\n              className: \"btn-add\",\n              children: \"Add Question\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"questions-list\",\n            children: questions.map((q, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"question-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `category-badge ${q.category}`,\n                children: q.category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: q.question\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: new Date(q.askedAt).toLocaleTimeString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"notes-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Interview Notes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: notes,\n            onChange: e => setNotes(e.target.value),\n            placeholder: \"Take notes during the interview...\",\n            rows: \"10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: saveNotes,\n            className: \"btn-save\",\n            children: \"Save Notes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 303,\n    columnNumber: 5\n  }, this);\n};\n_s(InterviewRoom, \"UgHDZ8d2WiwfIpqsGTYcIjso0ZQ=\", false, function () {\n  return [useParams, useAuth, useNavigate];\n});\n_c = InterviewRoom;\nexport default InterviewRoom;\nvar _c;\n$RefreshReg$(_c, \"InterviewRoom\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useParams","useNavigate","axios","toast","useAuth","FiMic","FiMicOff","FiVideo","FiVideoOff","FiPhoneOff","FiFileText","jsxDEV","_jsxDEV","Fragment","_Fragment","InterviewRoom","_s","_interview$studentId2","_interview$recruiterI2","roomId","user","navigate","interview","setInterview","loading","setLoading","inCall","setInCall","isMuted","setIsMuted","isVideoOff","setIsVideoOff","streamReady","setStreamReady","notes","setNotes","questions","setQuestions","currentQuestion","setCurrentQuestion","questionCategory","setQuestionCategory","isRecording","setIsRecording","recordingDuration","setRecordingDuration","localVideoRef","mediaStreamRef","fetchInterviewDetails","response","get","data","questionsAsked","error","current","getTracks","forEach","track","stop","interval","setInterval","prev","clearInterval","startLocalStream","console","log","constraints","video","width","ideal","height","audio","echoCancellation","noiseSuppression","stream","navigator","mediaDevices","getUserMedia","srcObject","onloadedmetadata","play","then","catch","err","name","message","joinInterview","put","_id","success","leaveInterview","kind","role","toggleMute","audioTrack","getAudioTracks","enabled","info","toggleVideo","videoTrack","getVideoTracks","addQuestion","trim","warning","post","question","category","newQuestion","askedAt","Date","saveNotes","formatDuration","seconds","mins","Math","floor","secs","toString","padStart","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_interview$jobId","_interview$jobId2","_interview$recruiterI","_interview$studentId","jobId","title","company","scheduledDate","toLocaleDateString","scheduledTime","recruiterId","studentId","ref","autoPlay","muted","playsInline","style","transform","onClick","disabled","value","onChange","e","target","placeholder","rows","map","q","index","toLocaleTimeString","_c","$RefreshReg$"],"sources":["C:/Users/Aayush/Desktop/claude_campus/frontend/src/pages/Interview/InterviewRoom.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { \r\n  FiMic, FiMicOff, FiVideo, FiVideoOff, FiPhoneOff, FiFileText\r\n} from 'react-icons/fi';\r\nimport './Interview.css';\r\n\r\nconst InterviewRoom = () => {\r\n  const { roomId } = useParams();\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  \r\n  const [interview, setInterview] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [inCall, setInCall] = useState(false);\r\n  \r\n  // Media controls\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [isVideoOff, setIsVideoOff] = useState(false);\r\n  const [streamReady, setStreamReady] = useState(false);\r\n  \r\n  // Interview state\r\n  const [notes, setNotes] = useState('');\r\n  const [questions, setQuestions] = useState([]);\r\n  const [currentQuestion, setCurrentQuestion] = useState('');\r\n  const [questionCategory, setQuestionCategory] = useState('technical');\r\n  \r\n  // Recording\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [recordingDuration, setRecordingDuration] = useState(0);\r\n  \r\n  const localVideoRef = useRef(null);\r\n  const mediaStreamRef = useRef(null);\r\n\r\n  const fetchInterviewDetails = useCallback(async () => {\r\n    try {\r\n      const response = await axios.get(`/api/interview/room/${roomId}`);\r\n      setInterview(response.data);\r\n      setQuestions(response.data.questionsAsked || []);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      toast.error('Interview room not found');\r\n      navigate('/');\r\n      setLoading(false);\r\n    }\r\n  }, [roomId, navigate]);\r\n\r\n  useEffect(() => {\r\n    fetchInterviewDetails();\r\n    return () => {\r\n      // Cleanup: stop all media tracks when component unmounts\r\n      if (mediaStreamRef.current) {\r\n        mediaStreamRef.current.getTracks().forEach(track => track.stop());\r\n      }\r\n    };\r\n  }, [fetchInterviewDetails]);\r\n\r\n  useEffect(() => {\r\n    let interval;\r\n    if (isRecording) {\r\n      interval = setInterval(() => {\r\n        setRecordingDuration(prev => prev + 1);\r\n      }, 1000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [isRecording]);\r\n\r\n  const startLocalStream = async () => {\r\n    try {\r\n      console.log('Requesting camera and microphone access...');\r\n      \r\n      const constraints = {\r\n        video: {\r\n          width: { ideal: 1280 },\r\n          height: { ideal: 720 }\r\n        },\r\n        audio: {\r\n          echoCancellation: true,\r\n          noiseSuppression: true\r\n        }\r\n      };\r\n\r\n      const stream = await navigator.mediaDevices.getUserMedia(constraints);\r\n      console.log('Media stream obtained:', stream);\r\n      \r\n      mediaStreamRef.current = stream;\r\n      \r\n      // Set video element source\r\n      if (localVideoRef.current) {\r\n        localVideoRef.current.srcObject = stream;\r\n        \r\n        // Ensure video plays\r\n        localVideoRef.current.onloadedmetadata = () => {\r\n          console.log('Video metadata loaded');\r\n          localVideoRef.current.play()\r\n            .then(() => {\r\n              console.log('Video playing successfully');\r\n              setStreamReady(true);\r\n            })\r\n            .catch(err => console.error('Error playing video:', err));\r\n        };\r\n      }\r\n      \r\n      return stream;\r\n    } catch (error) {\r\n      console.error('Error accessing media devices:', error);\r\n      \r\n      if (error.name === 'NotAllowedError') {\r\n        toast.error('Camera/microphone access denied. Please allow permissions.');\r\n      } else if (error.name === 'NotFoundError') {\r\n        toast.error('No camera or microphone found.');\r\n      } else {\r\n        toast.error('Could not access camera/microphone: ' + error.message);\r\n      }\r\n      \r\n      return null;\r\n    }\r\n  };\r\n\r\n  const joinInterview = async () => {\r\n    try {\r\n      const stream = await startLocalStream();\r\n      \r\n      if (!stream) {\r\n        toast.error('Cannot join without camera/microphone access');\r\n        return;\r\n      }\r\n\r\n      await axios.put(`/api/interview/${interview._id}/start`);\r\n      setInCall(true);\r\n      setIsRecording(true);\r\n      toast.success('Joined interview successfully');\r\n    } catch (error) {\r\n      console.error('Failed to join interview:', error);\r\n      toast.error('Failed to join interview');\r\n    }\r\n  };\r\n\r\n  const leaveInterview = async () => {\r\n    try {\r\n      // Stop all tracks\r\n      if (mediaStreamRef.current) {\r\n        mediaStreamRef.current.getTracks().forEach(track => {\r\n          track.stop();\r\n          console.log('Stopped track:', track.kind);\r\n        });\r\n      }\r\n      \r\n      await axios.put(`/api/interview/${interview._id}/end`);\r\n      setInCall(false);\r\n      setIsRecording(false);\r\n      \r\n      toast.success('Interview ended');\r\n      \r\n      // Navigate based on role\r\n      if (user.role === 'recruiter') {\r\n        navigate(`/recruiter/interviews/${interview._id}/analysis`);\r\n      } else {\r\n        navigate('/student/applications');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error leaving interview:', error);\r\n      toast.error('Error leaving interview');\r\n    }\r\n  };\r\n\r\n  const toggleMute = () => {\r\n    if (mediaStreamRef.current) {\r\n      const audioTrack = mediaStreamRef.current.getAudioTracks()[0];\r\n      if (audioTrack) {\r\n        audioTrack.enabled = !audioTrack.enabled;\r\n        setIsMuted(!audioTrack.enabled);\r\n        toast.info(audioTrack.enabled ? 'Microphone on' : 'Microphone muted');\r\n      }\r\n    }\r\n  };\r\n\r\n  const toggleVideo = () => {\r\n    if (mediaStreamRef.current) {\r\n      const videoTrack = mediaStreamRef.current.getVideoTracks()[0];\r\n      if (videoTrack) {\r\n        videoTrack.enabled = !videoTrack.enabled;\r\n        setIsVideoOff(!videoTrack.enabled);\r\n        toast.info(videoTrack.enabled ? 'Camera on' : 'Camera off');\r\n      }\r\n    }\r\n  };\r\n\r\n  const addQuestion = async () => {\r\n    if (!currentQuestion.trim()) {\r\n      toast.warning('Please enter a question');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await axios.post(`/api/interview/${interview._id}/questions`, {\r\n        question: currentQuestion,\r\n        category: questionCategory\r\n      });\r\n\r\n      const newQuestion = {\r\n        question: currentQuestion,\r\n        askedAt: new Date(),\r\n        category: questionCategory\r\n      };\r\n\r\n      setQuestions([...questions, newQuestion]);\r\n      setCurrentQuestion('');\r\n      toast.success('Question added');\r\n    } catch (error) {\r\n      console.error('Failed to add question:', error);\r\n      toast.error('Failed to add question');\r\n    }\r\n  };\r\n\r\n  const saveNotes = async () => {\r\n    if (!notes.trim()) {\r\n      toast.warning('No notes to save');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await axios.put(`/api/interview/${interview._id}/notes`, { notes });\r\n      toast.success('Notes saved');\r\n    } catch (error) {\r\n      console.error('Failed to save notes:', error);\r\n      toast.error('Failed to save notes');\r\n    }\r\n  };\r\n\r\n  const formatDuration = (seconds) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading interview room...</div>;\r\n  }\r\n\r\n  if (!interview) {\r\n    return <div className=\"loading\">Interview not found</div>;\r\n  }\r\n\r\n  if (!inCall) {\r\n    return (\r\n      <div className=\"interview-lobby\">\r\n        <div className=\"lobby-container\">\r\n          <h2>Interview Room</h2>\r\n          <div className=\"interview-details\">\r\n            <p><strong>Position:</strong> {interview?.jobId?.title}</p>\r\n            <p><strong>Company:</strong> {interview?.jobId?.company}</p>\r\n            <p><strong>Date:</strong> {new Date(interview?.scheduledDate).toLocaleDateString()}</p>\r\n            <p><strong>Time:</strong> {interview?.scheduledTime}</p>\r\n            {user.role === 'student' && (\r\n              <>\r\n                <p><strong>Interviewer:</strong> {interview?.recruiterId?.name}</p>\r\n              </>\r\n            )}\r\n            {user.role === 'recruiter' && (\r\n              <>\r\n                <p><strong>Candidate:</strong> {interview?.studentId?.name}</p>\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"video-preview\">\r\n            <video \r\n              ref={localVideoRef} \r\n              autoPlay \r\n              muted \r\n              playsInline\r\n              className=\"preview-video\"\r\n              style={{ transform: 'scaleX(-1)' }}\r\n            />\r\n            <p>Check your camera and microphone</p>\r\n            {!streamReady && (\r\n              <button \r\n                onClick={startLocalStream} \r\n                className=\"btn-test-devices\"\r\n              >\r\n                Test Camera & Microphone\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          <button \r\n            onClick={joinInterview} \r\n            className=\"btn-join\"\r\n            disabled={!streamReady}\r\n          >\r\n            {streamReady ? 'Join Interview' : 'Testing devices...'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"interview-room\">\r\n      <div className=\"video-container\">\r\n        <div className=\"main-video\">\r\n          <video \r\n            ref={localVideoRef} \r\n            autoPlay \r\n            muted \r\n            playsInline\r\n            className=\"local-video-main\"\r\n            style={{ transform: 'scaleX(-1)' }}\r\n          />\r\n          <div className=\"video-label\">\r\n            {user.role === 'recruiter' ? interview?.studentId?.name : interview?.recruiterId?.name}\r\n          </div>\r\n          \r\n          {isRecording && (\r\n            <div className=\"recording-indicator\">\r\n              <span className=\"rec-dot\"></span>\r\n              REC {formatDuration(recordingDuration)}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"controls-panel\">\r\n        <div className=\"media-controls\">\r\n          <button \r\n            className={`control-btn ${isMuted ? 'muted' : ''}`}\r\n            onClick={toggleMute}\r\n            title={isMuted ? 'Unmute' : 'Mute'}\r\n          >\r\n            {isMuted ? <FiMicOff /> : <FiMic />}\r\n          </button>\r\n\r\n          <button \r\n            className={`control-btn ${isVideoOff ? 'video-off' : ''}`}\r\n            onClick={toggleVideo}\r\n            title={isVideoOff ? 'Turn on camera' : 'Turn off camera'}\r\n          >\r\n            {isVideoOff ? <FiVideoOff /> : <FiVideo />}\r\n          </button>\r\n\r\n          <button \r\n            className=\"control-btn end-call\"\r\n            onClick={leaveInterview}\r\n            title=\"Leave interview\"\r\n          >\r\n            <FiPhoneOff />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {user.role === 'recruiter' && (\r\n        <div className=\"interview-sidebar\">\r\n          <div className=\"sidebar-tabs\">\r\n            <button className=\"tab-btn active\">\r\n              <FiFileText /> Questions\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"tab-content\">\r\n            <div className=\"questions-section\">\r\n              <h3>Interview Questions</h3>\r\n              \r\n              <div className=\"add-question\">\r\n                <select \r\n                  value={questionCategory} \r\n                  onChange={(e) => setQuestionCategory(e.target.value)}\r\n                >\r\n                  <option value=\"technical\">Technical</option>\r\n                  <option value=\"behavioral\">Behavioral</option>\r\n                  <option value=\"situational\">Situational</option>\r\n                </select>\r\n                \r\n                <textarea\r\n                  value={currentQuestion}\r\n                  onChange={(e) => setCurrentQuestion(e.target.value)}\r\n                  placeholder=\"Enter your question...\"\r\n                  rows=\"2\"\r\n                />\r\n                \r\n                <button onClick={addQuestion} className=\"btn-add\">\r\n                  Add Question\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"questions-list\">\r\n                {questions.map((q, index) => (\r\n                  <div key={index} className=\"question-item\">\r\n                    <span className={`category-badge ${q.category}`}>\r\n                      {q.category}\r\n                    </span>\r\n                    <p>{q.question}</p>\r\n                    <small>{new Date(q.askedAt).toLocaleTimeString()}</small>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"notes-section\">\r\n              <h3>Interview Notes</h3>\r\n              <textarea\r\n                value={notes}\r\n                onChange={(e) => setNotes(e.target.value)}\r\n                placeholder=\"Take notes during the interview...\"\r\n                rows=\"10\"\r\n              />\r\n              <button onClick={saveNotes} className=\"btn-save\">\r\n                Save Notes\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InterviewRoom;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}